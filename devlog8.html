<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Devlog #8</title>
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="assets/css/blogstyles.css" rel="stylesheet" />

        <style>
            * {
              box-sizing: border-box;
            }
            
            .column {
              float: left;
              width: 33.33%;
              padding: 5px;
            }
            
            /* Clearfix (clear floats) */
            .row::after {
              content: "";
              clear: both;
              display: table;
            }

            .f-l {
                float: left;
                text-align: right;
            }
                
            .f-r {
                float: right;
                text-align: right;rgb(240, 240, 240)rgb(240, 240, 240)
            }
            </style>
            
    </head>
    <body>
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-light" id="mainNav">
            <div class="container px-4 px-lg-5">
                <a class="navbar-brand" href="blogpage2.html">Back To Devlog Page 2</a>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto py-4 py-lg-0">
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Page Header-->
        <header class="masthead" style="background-image: url('assets/img/background/labelbackground.png')">
            <div class="container position-relative px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <div class="post-heading">
                            <h1>Devlog #8</h1>
                            <h2 class="subheading">Frustrated</h2>
                            <span class="meta">
                                Posted October 9, 2023
                            </span>
                        </div>
                    </div>
                </div>
            </div>

           <!--<blockquote class="blockquote">The dreams of yesterday are the hopes of today and the reality of tomorrow. Science has not yet mastered prophecy. We predict too much for the next year and yet far too little for the next ten.</blockquote>-->
           <!--<span class="caption text-muted">To go places and do things that have never been done before – that’s what living is all about.</span>-->
            <!--<a><img class="img-fluid" src="assets/img/stockgodotimage.png"/></a>-->

        </header>
        <!-- Post Content-->
        <article class="mb-4">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <h2 class="section-heading">What I've been working on</h2>
                        <p style="text-indent: 25px;">
                            After adding a wave system, the next feature I wanted to add was a weapon to attack the enemies.
                            This feature would consist of a few new additions to the tower scene.
                        </p>

                        <p style="text-indent: 25px;">
                            First, a weapon sprite will sit on top of the tower.
                            This weapon will have a range that will determine how close an enemy is.
                            Once an enemy is withing range, the weapon will look at the enemy.
                            I achieved this by using an Area2D and setting up a signal to fire when anything entered the area.
                        </p>

                    <center><img class="img-fluid" src="assets/img/scene/area.png" style="width:50%"></center>

                        <p style="text-indent: 25px;">
                            Next, once an enemy is in range, its coordinates are grabbed and fed to the weapon sprite.
                            Using the look_at() function will change the direction the sprite is looking.
                            This was when I ran into my first of many problems.
                        </p>

                        <h2 class="section-heading">Frustration</h2>

                        <p style="text-indent: 25px;">
                            Once I had this system set up, I noticed the weapon sprite would look at the first enemy, and then look in the completely wrong direction after.
                            I set up some print statements to see where the sprite was being told to look.
                            The coordinates I got back were extremely large and inaccurate.
                            Initially, I was dumbfounded. I had no idea why I was getting large coordinates.
                        </p>

                        <p style="text-indent: 25px;">
                            Initially, I was dumbfounded. I had no idea why I was getting large coordinates.
                            I added a label to the enemy, and had the contents of it be the coordinates of itself.
                            Even as I'm writing this devlog, I have no idea why this happened.
                        </p>

                    <center><img class="img-fluid" src="assets/img/scene/coordinates.png" style="width:50%"></center>
                    <center><img class="img-fluid" src="assets/img/scene/coordinates2.png" style="width:50%"></center>

                        <p style="text-indent: 25px;">
                            As a form of debugging, I wanted to see if I could even make the weapon sprite look in a proper direction.
                            Instead of the enemies position, the sprite would look at my mouse position.
                        </p>

                    <center>
                        <img class="img-fluid" src="assets/img/script/globalposition.png" style="width:100%">
                        <br><br>
                        <img class="img-fluid" src="assets/img/scene/mousepos1.png" style="width:50%">
                        <br><br>
                        <img class="img-fluid" src="assets/img/scene/mousepos2.png" style="width:50%">
                    </center>

                        <p style="text-indent: 25px;">
                            This at least confirmed it was possible, and that was all I needed to know.
                            But I had to come up with another way to get an enemy's coordinates.
                        </p>

                        <p style="text-indent: 25px;">
                            Shortly after I came up with a promising idea.
                            Since I used a label to display the mouse coordinates under an enemy, I could instead get the coordinates of the label.
                            It wouldn't be precise, but it gives the correct direction to look in.
                        </p>

                    <center><img class="img-fluid" src="assets/img/script/labelposition.png" style="width:100%"></center>

                    <center>
                        <img class="img-fluid" src="assets/img/scene/labellocation.png" style="width:45%">
                        <img class="img-fluid" src="assets/img/scene/debug.png" style="width:54%">
                    </center>

                    <p style="text-indent: 25px;">
                        I had high hopes for this solution, but instead of incredibly large coordinates, I was getting nothing.
                        Visually the coordinates are correct, but when I try to pass this variable across scripts, it would become [0,0].
                        I deduced this to be only grabbing the coordinates of the label in its scene. Which was [0,0].
                    </p>

                        <p style="text-indent: 25px;">
                            After trying solution after solution, this has been stumping me for the last few days.
                            I've even considered changing the design of the weapon feature altogether.
                            If I can't find a solution soon, I'll have to change the feature.
                        </p>
                       
                        <b><a href="devlog7.html" class="previous round">&#8249; Previous Devlog: #7</a></b>
                        <b><a class="f-r" href="devlog9.html" class="next round">Next Devlog: #9 &#8250;</a></b>
                        
                    </div>
                </div>
            </div>
        </article>
        <!-- Footer-->
        <footer class="border-top">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <ul class="list-inline text-center">
                            <li class="list-inline-item">
                                <a href="https://www.linkedin.com/in/chris-colella/" target="_blank">
                                    <span class="fa-stack fa-lg">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>

                            <li class="list-inline-item">
                                <a href="https://github.com/chriscolella3" target="_blank">
                                    <span class="fa-stack fa-lg">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="assets/js/scripts.js"></script>
    </body>
</html>
