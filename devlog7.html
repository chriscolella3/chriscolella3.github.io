<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Devlog #7</title>
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="assets/css/blogstyles.css" rel="stylesheet" />

        <style>
            * {
              box-sizing: border-box;
            }
            
            .column {
              float: left;
              width: 33.33%;
              padding: 5px;
            }
            
            /* Clearfix (clear floats) */
            .row::after {
              content: "";
              clear: both;
              display: table;
            }

            .f-l {
                float: left;
                text-align: right;
            }
                
            .f-r {
                float: right;
                text-align: right;rgb(240, 240, 240)rgb(240, 240, 240)
            }

            </style>
            
    </head>
    <body>
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-light" id="mainNav">
            <div class="container px-4 px-lg-5">
                <a class="navbar-brand" href="blogindex.html">Back To Devlog Homepage</a>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto py-4 py-lg-0">
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Page Header-->
        <header class="masthead" style="background-image: url('assets/img/Background/godotbackground5.png')">
            <div class="container position-relative px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <div class="post-heading">
                            <h1>Devlog #7</h1>
                            <h2 class="subheading">Better Waves</h2>
                            <span class="meta">
                                Posted October 2, 2023
                            </span>
                        </div>
                    </div>
                </div>
            </div>

           <!--<blockquote class="blockquote">The dreams of yesterday are the hopes of today and the reality of tomorrow. Science has not yet mastered prophecy. We predict too much for the next year and yet far too little for the next ten.</blockquote>-->
           <!--<span class="caption text-muted">To go places and do things that have never been done before – that’s what living is all about.</span>-->
            <!--<a><img class="img-fluid" src="assets/img/stockgodotimage.png"/></a>-->

        </header>
        <!-- Post Content-->
        <article class="mb-4">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <h2 class="section-heading">Waves Part 2</h2>
                        <p style="text-indent: 25px;">
                            Continuing from Devlog #6, I added the homing system to the other enemy types.
                            Now, all four enemies can randomly spawn from any spawn point.
                            I also made the next wave text easier to see.
                        </p>

                        <center><img src="assets/gif/enemyhoming5.gif" style="width:50%"></center>

                        <p style="text-indent: 25px;">
                            The only part the gif above does not show is a spawning bug after wave 1.
                            As you can see, enemies spawn fairly often, but after wave one, they slow down a lot.
                            It took me a while to figure out what was wrong, and yet it was so simple.
                        </p>

                        
                        <p style="text-indent: 25px;">
                            The image below is the code responsible for letting the next wave spawn.
                            I pinpointed the bug on line 47. 
                            Initially, the enemy spawn timer is set to one second. One enemy per second.
                            Once line 47 fires, I thought it was telling this timer to pause for three seconds, and then resume.
                            In reality, it was resetting the spawn timer to a three-second delay, instead of a one-second delay.
                        </p>

                        <center><img class="img-fluid" src="assets/img/Script/driver function.png" style="width:50%"></center>

                        <p style="text-indent: 25px;">
                            This was when I realized I needed to redo the wave system.
                            I felt the way it was written would not allow for a proper wave spawning system to work.
                            It sucks because I'm excited to be making progress, but this is how the cookie crumbles sometimes.
                        </p>

                        <p style="text-indent: 25px;">
                            I'm learning that this is just a part of the development process.
                            You spend time implementing something, and when it works it's the greatest feeling a developer can have.
                            But, sometimes it isn't what you think it will be when it's done.
                            With that being said, I need to find a better long-term solution.
                        </p>

                        <h2 class="section-heading">A New Wave System</h2>
                        <p style="text-indent: 25px;">
                            I remembered seeing a few other tutorials on Waves when searching, so I decided to try one of them out.
                            It was a tutorial for wave spawning in a 3D game.
                            When I initially saw it, I overlooked it as it wasn't 2D-related.
                            But on second thought, I figured the code should still work the same way.
                        </p>

                        <p style="text-indent: 25px;">
                            While I was watching the video, small issues popped up.
                            I noticed that the video is 2 years old, an older version of Godot was being used.
                            Since I'm using Godot 4, some functions have been renamed/changed.
                            I did run into some bugs and errors along the way and I will admit I was stumped for some time.
                            These problems never deterred me though, only slowed me down.
                        </p>

                        <p style="text-indent: 25px;">
                            I spent about an hour troubleshooting until it happened.
                            The first wave of the new system was finally working.
                        </p>

                        <p style="text-indent: 25px;">
                            This tutorial was hands down the best one I've seen so far.
                            It allowed me to learn a few new tips and tricks.
                            It also helped me build a modular system for unique waves.
                            Each wave has it's own number of enemies, and delay between each spawn.
                        </p>

                        <div class="row">
                            <div class="column">
                                <img src="assets/img/Script/wavedetails.png" style="width:200%" >
                            </div>
                            <div class="column">
                              <img src="assets/img/blank.png" alt="Forest" style="width:0%">
                            </div>
                            <div class="column">
                                <img class="img-fluid" src="assets/img/Scene/waves.png" style="width:150%">
                            </div>
                          </div>

                        <p style="text-indent: 25px;">
                            Wave 1 has 5 enemies with 1 second between each spawn.
                            Wave 2 has 50 enemies with 0.5 seconds between each spawn.
                            I also temporarily disabled the UI text for waves.
                            That is something I'll also have to fix later.
                        </p>

                        <p style="text-indent: 25px;">
                            Heres what the final product looks like.
                        </p>
                          <center><img class="img-fluid" src="assets/gif/betterwaves.gif" style="width:50%"></center>
                          <br>
                          
                          <b><a href="devlog6.html" class="previous round">&#8249; Previous Devlog: #6</a></b>
                          <b><a class="f-r" href="devlog8.html" class="next round">Next Devlog: #8 &#8250;</a></b>

                    </div>
                </div>
            </div>
        </article>
        <!-- Footer-->
        <footer class="border-top">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <ul class="list-inline text-center">
                            <li class="list-inline-item">
                                <a href="https://www.linkedin.com/in/chris-colella/" target="_blank">
                                    <span class="fa-stack fa-lg">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>

                            <li class="list-inline-item">
                                <a href="https://github.com/chriscolella3" target="_blank">
                                    <span class="fa-stack fa-lg">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="assets/js/scripts.js"></script>
    </body>
</html>
